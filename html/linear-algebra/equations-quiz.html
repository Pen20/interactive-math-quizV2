<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>System of Equations Quiz - Interactive Math Quiz</title>
    <link rel="stylesheet" href="../../css/quiz-common.css" />
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <style>
      .equations-input-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }
      @media (max-width: 768px) {
        .equations-input-container {
          grid-template-columns: 1fr;
        }
      }
      .equation-input {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #667eea;
      }
      .equation-input label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: #333;
      }
      .equation-input input {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        font-family: monospace;
      }
      .equation-input input:focus {
        outline: none;
        border-color: #667eea;
      }
      .validation {
        margin-top: 8px;
        font-size: 14px;
        min-height: 20px;
      }
      .parallel-condition {
        background: #e8f4fd;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #3498db;
      }
      .condition-formula {
        text-align: center;
        font-size: 1.1em;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <div class="quiz-container">
      <a href="/html/linear-algebra/" class="back-button"
        >← Back to Linear Algebra</a
      >

      <h1 class="quiz-title">System of Equations Quiz</h1>

      <div class="question-text">
        <div class="question-display">
          <h4>Problem Statement:</h4>
          <p id="question-text">
            Give two equations in the form \(ax + by = c\) such that when you
            try to solve them simultaneously there are no solutions.
          </p>
          <div class="parallel-condition">
            <h5>Condition for No Solution:</h5>
            <p>
              For equations \(a_1x + b_1y = c_1\) and \(a_2x + b_2y = c_2\):
            </p>
            <div class="condition-formula">
              \[ \frac{a_1}{a_2} = \frac{b_1}{b_2} \neq \frac{c_1}{c_2} \]
            </div>
            <p>This means the lines are parallel but not the same line.</p>
          </div>
        </div>

        <button class="button secondary" id="new-question">
          Generate New Example
        </button>

        <div class="equations-input-container">
          <div class="equation-input">
            <label for="equation1">Equation 1:</label>
            <input type="text" id="equation1" placeholder="e.g., 2x+3y=5" />
            <div class="validation" id="validation-equation1"></div>
          </div>

          <div class="equation-input">
            <label for="equation2">Equation 2:</label>
            <input type="text" id="equation2" placeholder="e.g., 2x+3y=7" />
            <div class="validation" id="validation-equation2"></div>
          </div>
        </div>

        <div class="help-section">
          <button class="button secondary" id="show-hints">
            Need Help? Show Hints
          </button>
        </div>

        <div class="reasoning-section">
          <h3>Explain Your Reasoning</h3>
          <p>
            Please describe why you chose these particular equations and how you
            know they have no solution. You can use mathematical notation:
          </p>

          <div class="math-help">
            <h5>Mathematical Notation Help:</h5>
            <div class="math-examples">
              <div class="math-example">
                <strong>Parallel lines:</strong> $\frac{a_1}{a_2} =
                \frac{b_1}{b_2}$
              </div>
              <div class="math-example">
                <strong>No solution:</strong> $\frac{a_1}{a_2} = \frac{b_1}{b_2}
                \neq \frac{c_1}{c_2}$
              </div>
              <div class="math-example">
                <strong>Same line:</strong> $\frac{a_1}{a_2} = \frac{b_1}{b_2} =
                \frac{c_1}{c_2}$
              </div>
              <div class="math-example">
                <strong>Example:</strong> $2x+3y=5$, $2x+3y=7$
              </div>
              <div class="math-example">
                <strong>Ratios:</strong> $\frac{2}{2} = \frac{3}{3} \neq
                \frac{5}{7}$
              </div>
              <div class="math-example">
                <strong>System:</strong> $\begin{cases} a_1x + b_1y = c_1 \\
                a_2x + b_2y = c_2 \end{cases}$
              </div>
            </div>
            <p style="margin-top: 10px; font-size: 14px">
              <strong>Usage:</strong> Use $...$ for inline math and $$...$$ for
              display math.
            </p>
          </div>

          <textarea
            class="reasoning-input"
            id="reasoning-input"
            placeholder="Enter your reasoning here. Use $...$ for inline math and $$...$$ for display math."
            rows="4"
          ></textarea>

          <div class="latex-validation hidden" id="latex-validation"></div>

          <div class="math-preview">
            <div class="math-preview-label">Live Preview:</div>
            <div id="math-preview-content">
              Your mathematical notation will appear here as you type...
            </div>
          </div>

          <div class="reasoning-feedback" id="reasoning-feedback"></div>
        </div>

        <div class="input-status">
          <div class="status-item">
            <span id="equation1-status-icon" class="status-cross">✗</span
            ><span>Equation 1 provided</span>
          </div>
          <div class="status-item">
            <span id="equation2-status-icon" class="status-cross">✗</span
            ><span>Equation 2 provided</span>
          </div>
          <div class="status-item">
            <span id="reasoning-status-icon" class="status-cross">✗</span
            ><span>Reasoning provided</span>
          </div>
          <div class="status-item">
            <span id="latex-status-icon" class="status-cross">✗</span
            ><span>Valid LaTeX syntax</span>
          </div>
        </div>

        <div class="action-buttons">
          <button class="button primary" id="check-answer" disabled>
            Check Solution
          </button>
          <button class="button secondary" id="show-solution">
            Show Solution
          </button>
          <button class="button secondary" id="show-steps">Show Steps</button>
          <button class="button success" id="clear-all">Clear All</button>
        </div>

        <div class="ai-feedback-enhanced hidden" id="ai-feedback-enhanced">
          <h4>AI Feedback</h4>
          <div
            class="ai-feedback-content-enhanced"
            id="ai-feedback-content-enhanced"
          ></div>
        </div>

        <div class="custom-hint hidden" id="hint">
          <h4>Helpful Hints</h4>
          <p>
            <strong>Hint 1:</strong> For a system to have no solution, the two
            equations must represent parallel lines.
          </p>
          <p>
            <strong>Hint 2:</strong> Parallel lines have the same slope but
            different y-intercepts.
          </p>
          <p>
            <strong>Hint 3:</strong> In standard form \(ax + by = c\), parallel
            lines have proportional coefficients for x and y but
            non-proportional constants.
          </p>
          <p>
            <strong>Hint 4:</strong> The simplest way is to use the same
            coefficients for x and y but different constants.
          </p>
          <p>
            <strong>Mathematical Condition:</strong> No solution when:
            \(\frac{a_1}{a_2} = \frac{b_1}{b_2} \neq \frac{c_1}{c_2}\)
          </p>
        </div>

        <div class="custom-hint hidden" id="examples">
          <h4>Example Equations with No Solution</h4>
          <p><strong>Example 1:</strong> \(2x + 3y = 5\) and \(2x + 3y = 7\)</p>
          <p><strong>Example 2:</strong> \(x - 2y = 4\) and \(x - 2y = 1\)</p>
          <p><strong>Example 3:</strong> \(3x + y = 2\) and \(6x + 2y = 5\)</p>
          <p>
            <strong>Example 4:</strong> \(-x + 4y = 3\) and \(-2x + 8y = 10\)
          </p>
          <p>
            <strong>Example 5:</strong> \(5x - 3y = 8\) and \(10x - 6y = 12\)
          </p>
          <p>
            <strong>Common Mistakes:</strong> • Same equation twice • Different
            slopes (one solution) • Constants proportional
          </p>
        </div>
      </div>

      <div class="feedback hidden" id="feedback"></div>

      <div class="step-by-step hidden" id="step-by-step">
        <h3>Step-by-Step Solution</h3>
        <div id="steps-content"></div>
      </div>

      <div class="solution hidden" id="solution">
        <h3>Complete Solution</h3>
        <div id="solution-content"></div>
      </div>
    </div>

    <script src="../../js/app.js"></script>
    <script src="../../js/openai-service.js"></script>
    <script src="../../js/ai-render.js"></script>
    <script src="../../js/equations-quiz.js"></script>
  </body>
</html>
