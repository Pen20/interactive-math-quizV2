services:
  - type: web
    name: interactive-math-quizV2
    env: node
    rootDir: server # points to folder with index.js and package.json
    plan: free
    autoDeploy: true
    buildCommand: npm ci # or "npm install"
    startCommand: node index.js
    healthCheckPath: /healthz

    envVars:
      - key: NODE_ENV
        value: production
      # Render sets PORT automatically; your server reads it via process.env.PORT
      # Keep this only if you hard-code a default in dev; it's harmless to omit.
      - key: PORT
        value: 3080
      # Set to your Render URL (after you know it) or leave empty for now.
      - key: FRONTEND_ORIGIN
        value: https://interactive-math-quizV2.onrender.com
      # Add this secret in the Render dashboard (do not commit a value)
      - key: OPENAI_API_KEY
        sync: false
